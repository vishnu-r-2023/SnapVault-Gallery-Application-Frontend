{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishn\\\\Downloads\\\\Gallery Application\\\\frontend\\\\src\\\\components\\\\AISearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Search, Upload } from 'lucide-react';\nimport Header from './Header';\nimport FloatingMenu from \"./FloatingMenu\";\n\n// AISearch component: analyzes an image using Gemini API (Google AI) and finds similar images\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AISearch = ({\n  gallery\n}) => {\n  _s();\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [summary, setSummary] = useState('');\n  const [searchQuery, setSearchQuery] = useState(''); // For image search\n  const [similarImages, setSimilarImages] = useState([]);\n  const [fetchingImages, setFetchingImages] = useState(false);\n  const [imageError, setImageError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = React.useRef(null);\n\n  // Handle file input\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      setSummary('');\n      setError('');\n    }\n  };\n\n  // Analyze image using Gemini API (Google AI)\n  const analyzeImage = async () => {\n    if (!selectedFile || !apiKey) {\n      setError('Please select an image and provide a valid Gemini API key.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSummary('');\n    try {\n      // Convert image to base64\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        var _response$data, _response$data$candid, _response$data$candid2, _response$data$candid3, _response$data$candid4, _response$data$candid5;\n        const base64Image = reader.result.split(',')[1];\n        // Call Gemini multimodal API (Google AI)\n        // Endpoint: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent\n        // Docs: https://ai.google.dev/api/rest/v1beta/models/generateContent\n        const response = await axios.post('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey, {\n          contents: [{\n            parts: [{\n              text: 'Describe this image and suggest keywords for finding similar images.'\n            }, {\n              inlineData: {\n                mimeType: 'image/jpeg',\n                data: base64Image\n              }\n            }]\n          }]\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        // Parse Gemini response\n        const summaryText = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$candid = _response$data.candidates) === null || _response$data$candid === void 0 ? void 0 : (_response$data$candid2 = _response$data$candid[0]) === null || _response$data$candid2 === void 0 ? void 0 : (_response$data$candid3 = _response$data$candid2.content) === null || _response$data$candid3 === void 0 ? void 0 : (_response$data$candid4 = _response$data$candid3.parts) === null || _response$data$candid4 === void 0 ? void 0 : (_response$data$candid5 = _response$data$candid4[0]) === null || _response$data$candid5 === void 0 ? void 0 : _response$data$candid5.text) || 'No summary found.';\n        setSummary(summaryText);\n        // Improved: Extract keywords from the Gemini summary after '**Keywords:**'\n        let keywords = [];\n        const keywordsSection = summaryText.split('**Keywords:**')[1];\n        if (keywordsSection) {\n          keywords = keywordsSection.split('\\n').map(line => line.replace(/[*-]/g, '').trim()).filter(Boolean).slice(0, 5);\n        }\n        setSearchQuery(keywords.join(' '));\n      };\n      reader.readAsDataURL(selectedFile);\n    } catch (err) {\n      setError('Failed to analyze image with Gemini.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch similar images from Google Custom Search JSON API\n  useEffect(() => {\n    const fetchImages = async () => {\n      if (!searchQuery) return;\n      setFetchingImages(true);\n      setSimilarImages([]);\n      setImageError('');\n      try {\n        // Replace with your API key and Search Engine ID\n        const API_KEY = 'AIzaSyBtmOjXsxECau8p2JfXWtRZlCpYpiXy7W8';\n        const CX = 'f7366c081c3b5489b';\n        const url = `https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CX}&searchType=image&q=${encodeURIComponent(searchQuery)}`;\n        console.log('Google CSE Search Query:', searchQuery);\n        const response = await fetch(url);\n        const data = await response.json();\n        console.log('Google CSE API Response:', data);\n        if (data.items && Array.isArray(data.items)) {\n          setSimilarImages(data.items);\n        } else {\n          setImageError('No similar images found.');\n        }\n      } catch (err) {\n        setImageError('Failed to fetch similar images.');\n      } finally {\n        setFetchingImages(false);\n      }\n    };\n    fetchImages();\n  }, [searchQuery]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FloatingMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen text-white pt-4 px-2 sm:px-8 relative overflow-hidden group/bg overflow-y-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto relative mt-10 sm:mt-16 z-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-800/70 backdrop-blur-md rounded-2xl p-3 sm:p-8 shadow-2xl border border-slate-700/40\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            badgeText: \"AI Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 86\n            }, this), \" AI Image Search\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 mb-4 ${isDragging ? 'border-blue-400 bg-blue-500/20' : 'border-slate-700/30 bg-slate-800/20'}`,\n            onDragOver: e => {\n              e.preventDefault();\n              setIsDragging(true);\n            },\n            onDragLeave: () => setIsDragging(false),\n            onDrop: e => {\n              e.preventDefault();\n              setIsDragging(false);\n              handleFileChange({\n                target: {\n                  files: e.dataTransfer.files\n                }\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col items-center space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 rounded-full bg-slate-800/10\",\n                children: /*#__PURE__*/_jsxDEV(Upload, {\n                  className: \"w-8 h-8 text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-white font-medium\",\n                  children: \"Drag and drop your image here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-white/70\",\n                  children: \"or\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    var _fileInputRef$current;\n                    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                  },\n                  className: \"text-sm text-white hover:text-blue-200 font-medium tracking-wide px-4 py-2 rounded-full bg-slate-800/10 hover:bg-blue-700/20 transition-colors duration-200\",\n                  children: \"Browse Files\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-slate-400 mt-2\",\n                  children: \"Supported: JPG, PNG, GIF, WEBP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              ref: fileInputRef,\n              className: \"hidden\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: previewUrl,\n              alt: \"Preview\",\n              className: \"w-48 h-48 object-contain rounded-lg border border-slate-700/30 bg-slate-900/20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"group inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600/80 hover:bg-cyan-700 text-white font-semibold text-base shadow-lg border border-cyan-400/30 hover:border-cyan-400 backdrop-blur-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 mb-4\",\n            onClick: analyzeImage,\n            disabled: loading || !selectedFile || !apiKey,\n            children: loading ? 'Analyzing...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 44\n              }, this), \" Analyze & Find Similar\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-400 text-sm mb-2\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 21\n          }, this), summary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-slate-900/70 text-white rounded-lg p-4 mb-4 border border-slate-700/30\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold mb-2\",\n              children: \"AI Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"whitespace-pre-line text-sm\",\n              children: summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), similarImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-2\",\n              children: \"Similar Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: '16px'\n              },\n              children: similarImages.map(img => /*#__PURE__*/_jsxDEV(\"a\", {\n                href: img.link,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: img.link,\n                  alt: img.title,\n                  style: {\n                    width: 200,\n                    height: 200,\n                    objectFit: 'cover',\n                    borderRadius: 8,\n                    border: '1px solid #334155',\n                    background: '#0f172a'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this)\n              }, img.link, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(AISearch, \"VrCKA4zJagaI+wxV9ZbR61T09L0=\");\n_c = AISearch;\nexport default AISearch;\nvar _c;\n$RefreshReg$(_c, \"AISearch\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Search","Upload","Header","FloatingMenu","jsxDEV","_jsxDEV","Fragment","_Fragment","AISearch","gallery","_s","apiKey","process","env","REACT_APP_API_KEY","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","summary","setSummary","searchQuery","setSearchQuery","similarImages","setSimilarImages","fetchingImages","setFetchingImages","imageError","setImageError","loading","setLoading","error","setError","isDragging","setIsDragging","fileInputRef","handleFileChange","e","file","target","files","URL","createObjectURL","analyzeImage","reader","FileReader","onloadend","_response$data","_response$data$candid","_response$data$candid2","_response$data$candid3","_response$data$candid4","_response$data$candid5","base64Image","result","split","response","post","contents","parts","text","inlineData","mimeType","data","headers","summaryText","candidates","content","keywords","keywordsSection","map","line","replace","trim","filter","Boolean","slice","join","readAsDataURL","err","fetchImages","API_KEY","CX","url","encodeURIComponent","console","log","fetch","json","items","Array","isArray","children","fileName","_jsxFileName","lineNumber","columnNumber","className","badgeText","onDragOver","preventDefault","onDragLeave","onDrop","dataTransfer","type","onClick","_fileInputRef$current","current","click","accept","ref","onChange","src","alt","disabled","length","style","display","flexWrap","gap","img","href","link","rel","title","width","height","objectFit","borderRadius","border","background","_c","$RefreshReg$"],"sources":["C:/Users/vishn/Downloads/Gallery Application/frontend/src/components/AISearch.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Search, Upload } from 'lucide-react';\nimport Header from './Header';\nimport FloatingMenu from \"./FloatingMenu\";\n\n// AISearch component: analyzes an image using Gemini API (Google AI) and finds similar images\nconst AISearch = ({ gallery }) => {\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [summary, setSummary] = useState('');\n  const [searchQuery, setSearchQuery] = useState(''); // For image search\n  const [similarImages, setSimilarImages] = useState([]);\n  const [fetchingImages, setFetchingImages] = useState(false);\n  const [imageError, setImageError] = useState('');\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = React.useRef(null);\n\n  // Handle file input\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      setSummary('');\n      setError('');\n    }\n  };\n\n  // Analyze image using Gemini API (Google AI)\n  const analyzeImage = async () => {\n    if (!selectedFile || !apiKey) {\n      setError('Please select an image and provide a valid Gemini API key.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSummary('');\n\n    try {\n      // Convert image to base64\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        const base64Image = reader.result.split(',')[1];\n        // Call Gemini multimodal API (Google AI)\n        // Endpoint: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent\n        // Docs: https://ai.google.dev/api/rest/v1beta/models/generateContent\n        const response = await axios.post(\n          'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey,\n          {\n            contents: [\n              {\n                parts: [\n                  { text: 'Describe this image and suggest keywords for finding similar images.' },\n                  { inlineData: { mimeType: 'image/jpeg', data: base64Image } }\n                ]\n              }\n            ]\n          },\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n        // Parse Gemini response\n        const summaryText = response.data?.candidates?.[0]?.content?.parts?.[0]?.text || 'No summary found.';\n        setSummary(summaryText);\n        // Improved: Extract keywords from the Gemini summary after '**Keywords:**'\n        let keywords = [];\n        const keywordsSection = summaryText.split('**Keywords:**')[1];\n        if (keywordsSection) {\n          keywords = keywordsSection\n            .split('\\n')\n            .map(line => line.replace(/[*-]/g, '').trim())\n            .filter(Boolean)\n            .slice(0, 5);\n        }\n        setSearchQuery(keywords.join(' '));\n      };\n      reader.readAsDataURL(selectedFile);\n    } catch (err) {\n      setError('Failed to analyze image with Gemini.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch similar images from Google Custom Search JSON API\n  useEffect(() => {\n    const fetchImages = async () => {\n      if (!searchQuery) return;\n      setFetchingImages(true);\n      setSimilarImages([]);\n      setImageError('');\n      try {\n        // Replace with your API key and Search Engine ID\n        const API_KEY = 'AIzaSyBtmOjXsxECau8p2JfXWtRZlCpYpiXy7W8';\n        const CX = 'f7366c081c3b5489b';\n        const url = `https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${CX}&searchType=image&q=${encodeURIComponent(searchQuery)}`;\n        console.log('Google CSE Search Query:', searchQuery);\n        const response = await fetch(url);\n        const data = await response.json();\n        console.log('Google CSE API Response:', data);\n        if (data.items && Array.isArray(data.items)) {\n          setSimilarImages(data.items);\n        } else {\n          setImageError('No similar images found.');\n        }\n      } catch (err) {\n        setImageError('Failed to fetch similar images.');\n      } finally {\n        setFetchingImages(false);\n      }\n    };\n    fetchImages();\n  }, [searchQuery]);\n\n  return (\n    <>\n    <FloatingMenu />\n    <div className=\"min-h-screen text-white pt-4 px-2 sm:px-8 relative overflow-hidden group/bg overflow-y-auto\">\n      <div className=\"max-w-6xl mx-auto relative mt-10 sm:mt-16 z-10\">\n        <div className=\"bg-slate-800/70 backdrop-blur-md rounded-2xl p-3 sm:p-8 shadow-2xl border border-slate-700/40\">\n          <Header badgeText=\"AI Search\" />\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\"><Search className=\"w-6 h-6\" /> AI Image Search</h2>\n          <div\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 mb-4 ${isDragging ? 'border-blue-400 bg-blue-500/20' : 'border-slate-700/30 bg-slate-800/20'}`}\n            onDragOver={e => { e.preventDefault(); setIsDragging(true); }}\n            onDragLeave={() => setIsDragging(false)}\n            onDrop={e => { e.preventDefault(); setIsDragging(false); handleFileChange({ target: { files: e.dataTransfer.files } }); }}\n          >\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"p-4 rounded-full bg-slate-800/10\">\n                <Upload className=\"w-8 h-8 text-white\" />\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-lg text-white font-medium\">Drag and drop your image here</p>\n                <p className=\"text-sm text-white/70\">or</p>\n                <button\n                  type=\"button\"\n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"text-sm text-white hover:text-blue-200 font-medium tracking-wide px-4 py-2 rounded-full bg-slate-800/10 hover:bg-blue-700/20 transition-colors duration-200\"\n                >\n                  Browse Files\n                </button>\n                <p className=\"text-xs text-slate-400 mt-2\">Supported: JPG, PNG, GIF, WEBP</p>\n              </div>\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              ref={fileInputRef}\n              className=\"hidden\"\n              onChange={handleFileChange}\n            />\n          </div>\n          {previewUrl && (\n            <div className=\"flex flex-col items-center mb-4\">\n              <img src={previewUrl} alt=\"Preview\" className=\"w-48 h-48 object-contain rounded-lg border border-slate-700/30 bg-slate-900/20\" />\n            </div>\n          )}\n          <button\n            className=\"group inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600/80 hover:bg-cyan-700 text-white font-semibold text-base shadow-lg border border-cyan-400/30 hover:border-cyan-400 backdrop-blur-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 mb-4\"\n            onClick={analyzeImage}\n            disabled={loading || !selectedFile || !apiKey}\n          >\n            {loading ? 'Analyzing...' : (<><Search className=\"w-5 h-5\" /> Analyze & Find Similar</>)}\n          </button>\n          {error && <div className=\"text-red-400 text-sm mb-2\">{error}</div>}\n          {summary && (\n            <div className=\"bg-slate-900/70 text-white rounded-lg p-4 mb-4 border border-slate-700/30\">\n              <h3 className=\"font-semibold mb-2\">AI Summary</h3>\n              <p className=\"whitespace-pre-line text-sm\">{summary}</p>\n            </div>\n          )}\n          {/* Minimal Robust Similar Images Section */}\n          {similarImages.length > 0 && (\n            <div className=\"my-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Similar Images</h3>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '16px' }}>\n                {similarImages.map(img => (\n                  <a key={img.link} href={img.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img\n                      src={img.link}\n                      alt={img.title}\n                      style={{ width: 200, height: 200, objectFit: 'cover', borderRadius: 8, border: '1px solid #334155', background: '#0f172a' }}\n                    />\n                  </a>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n    </>\n  );\n};\n\nexport default AISearch;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,MAAM,QAAQ,cAAc;AAC7C,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,YAAY,MAAM,gBAAgB;;AAEzC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChC,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EAC5C,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACyB,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACpD,MAAM,CAAC2B,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC+B,UAAU,EAAEC,aAAa,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAM,CAACiC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmC,KAAK,EAAEC,QAAQ,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMuC,YAAY,GAAGxC,KAAK,CAACG,MAAM,CAAC,IAAI,CAAC;;EAEvC;EACA,MAAMsC,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACRtB,eAAe,CAACsB,IAAI,CAAC;MACrBpB,aAAa,CAACuB,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAAC;MACxClB,UAAU,CAAC,EAAE,CAAC;MACdY,QAAQ,CAAC,EAAE,CAAC;IACd;EACF,CAAC;;EAED;EACA,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAAC5B,YAAY,IAAI,CAACJ,MAAM,EAAE;MAC5BqB,QAAQ,CAAC,4DAA4D,CAAC;MACtE;IACF;IACAF,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,EAAE,CAAC;IACZZ,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MACF;MACA,MAAMwB,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,YAAY;QAAA,IAAAC,cAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;QAC7B,MAAMC,WAAW,GAAGT,MAAM,CAACU,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC/C;QACA;QACA;QACA,MAAMC,QAAQ,GAAG,MAAMzD,KAAK,CAAC0D,IAAI,CAC/B,+FAA+F,GAAG9C,MAAM,EACxG;UACE+C,QAAQ,EAAE,CACR;YACEC,KAAK,EAAE,CACL;cAAEC,IAAI,EAAE;YAAuE,CAAC,EAChF;cAAEC,UAAU,EAAE;gBAAEC,QAAQ,EAAE,YAAY;gBAAEC,IAAI,EAAEV;cAAY;YAAE,CAAC;UAEjE,CAAC;QAEL,CAAC,EACD;UACEW,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CACF,CAAC;QACD;QACA,MAAMC,WAAW,GAAG,EAAAlB,cAAA,GAAAS,QAAQ,CAACO,IAAI,cAAAhB,cAAA,wBAAAC,qBAAA,GAAbD,cAAA,CAAemB,UAAU,cAAAlB,qBAAA,wBAAAC,sBAAA,GAAzBD,qBAAA,CAA4B,CAAC,CAAC,cAAAC,sBAAA,wBAAAC,sBAAA,GAA9BD,sBAAA,CAAgCkB,OAAO,cAAAjB,sBAAA,wBAAAC,sBAAA,GAAvCD,sBAAA,CAAyCS,KAAK,cAAAR,sBAAA,wBAAAC,sBAAA,GAA9CD,sBAAA,CAAiD,CAAC,CAAC,cAAAC,sBAAA,uBAAnDA,sBAAA,CAAqDQ,IAAI,KAAI,mBAAmB;QACpGxC,UAAU,CAAC6C,WAAW,CAAC;QACvB;QACA,IAAIG,QAAQ,GAAG,EAAE;QACjB,MAAMC,eAAe,GAAGJ,WAAW,CAACV,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;QAC7D,IAAIc,eAAe,EAAE;UACnBD,QAAQ,GAAGC,eAAe,CACvBd,KAAK,CAAC,IAAI,CAAC,CACXe,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAC7CC,MAAM,CAACC,OAAO,CAAC,CACfC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAChB;QACAtD,cAAc,CAAC8C,QAAQ,CAACS,IAAI,CAAC,GAAG,CAAC,CAAC;MACpC,CAAC;MACDjC,MAAM,CAACkC,aAAa,CAAC/D,YAAY,CAAC;IACpC,CAAC,CAAC,OAAOgE,GAAG,EAAE;MACZ/C,QAAQ,CAAC,sCAAsC,CAAC;IAClD,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACAjC,SAAS,CAAC,MAAM;IACd,MAAMmF,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI,CAAC3D,WAAW,EAAE;MAClBK,iBAAiB,CAAC,IAAI,CAAC;MACvBF,gBAAgB,CAAC,EAAE,CAAC;MACpBI,aAAa,CAAC,EAAE,CAAC;MACjB,IAAI;QACF;QACA,MAAMqD,OAAO,GAAG,yCAAyC;QACzD,MAAMC,EAAE,GAAG,mBAAmB;QAC9B,MAAMC,GAAG,GAAG,kDAAkDF,OAAO,OAAOC,EAAE,uBAAuBE,kBAAkB,CAAC/D,WAAW,CAAC,EAAE;QACtIgE,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEjE,WAAW,CAAC;QACpD,MAAMmC,QAAQ,GAAG,MAAM+B,KAAK,CAACJ,GAAG,CAAC;QACjC,MAAMpB,IAAI,GAAG,MAAMP,QAAQ,CAACgC,IAAI,CAAC,CAAC;QAClCH,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEvB,IAAI,CAAC;QAC7C,IAAIA,IAAI,CAAC0B,KAAK,IAAIC,KAAK,CAACC,OAAO,CAAC5B,IAAI,CAAC0B,KAAK,CAAC,EAAE;UAC3CjE,gBAAgB,CAACuC,IAAI,CAAC0B,KAAK,CAAC;QAC9B,CAAC,MAAM;UACL7D,aAAa,CAAC,0BAA0B,CAAC;QAC3C;MACF,CAAC,CAAC,OAAOmD,GAAG,EAAE;QACZnD,aAAa,CAAC,iCAAiC,CAAC;MAClD,CAAC,SAAS;QACRF,iBAAiB,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC;IACDsD,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAAC3D,WAAW,CAAC,CAAC;EAEjB,oBACEhB,OAAA,CAAAE,SAAA;IAAAqF,QAAA,gBACAvF,OAAA,CAACF,YAAY;MAAA0F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChB3F,OAAA;MAAK4F,SAAS,EAAC,6FAA6F;MAAAL,QAAA,eAC1GvF,OAAA;QAAK4F,SAAS,EAAC,gDAAgD;QAAAL,QAAA,eAC7DvF,OAAA;UAAK4F,SAAS,EAAC,+FAA+F;UAAAL,QAAA,gBAC5GvF,OAAA,CAACH,MAAM;YAACgG,SAAS,EAAC;UAAW;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChC3F,OAAA;YAAI4F,SAAS,EAAC,4DAA4D;YAAAL,QAAA,gBAACvF,OAAA,CAACL,MAAM;cAACiG,SAAS,EAAC;YAAS;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,oBAAgB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9H3F,OAAA;YACE4F,SAAS,EAAE,sFAAsFhE,UAAU,GAAG,gCAAgC,GAAG,qCAAqC,EAAG;YACzLkE,UAAU,EAAE9D,CAAC,IAAI;cAAEA,CAAC,CAAC+D,cAAc,CAAC,CAAC;cAAElE,aAAa,CAAC,IAAI,CAAC;YAAE,CAAE;YAC9DmE,WAAW,EAAEA,CAAA,KAAMnE,aAAa,CAAC,KAAK,CAAE;YACxCoE,MAAM,EAAEjE,CAAC,IAAI;cAAEA,CAAC,CAAC+D,cAAc,CAAC,CAAC;cAAElE,aAAa,CAAC,KAAK,CAAC;cAAEE,gBAAgB,CAAC;gBAAEG,MAAM,EAAE;kBAAEC,KAAK,EAAEH,CAAC,CAACkE,YAAY,CAAC/D;gBAAM;cAAE,CAAC,CAAC;YAAE,CAAE;YAAAoD,QAAA,gBAE1HvF,OAAA;cAAK4F,SAAS,EAAC,sCAAsC;cAAAL,QAAA,gBACnDvF,OAAA;gBAAK4F,SAAS,EAAC,kCAAkC;gBAAAL,QAAA,eAC/CvF,OAAA,CAACJ,MAAM;kBAACgG,SAAS,EAAC;gBAAoB;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,eACN3F,OAAA;gBAAK4F,SAAS,EAAC,WAAW;gBAAAL,QAAA,gBACxBvF,OAAA;kBAAG4F,SAAS,EAAC,gCAAgC;kBAAAL,QAAA,EAAC;gBAA6B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC/E3F,OAAA;kBAAG4F,SAAS,EAAC,uBAAuB;kBAAAL,QAAA,EAAC;gBAAE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC3C3F,OAAA;kBACEmG,IAAI,EAAC,QAAQ;kBACbC,OAAO,EAAEA,CAAA;oBAAA,IAAAC,qBAAA;oBAAA,QAAAA,qBAAA,GAAMvE,YAAY,CAACwE,OAAO,cAAAD,qBAAA,uBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC;kBAAA,CAAC;kBAC7CX,SAAS,EAAC,6JAA6J;kBAAAL,QAAA,EACxK;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT3F,OAAA;kBAAG4F,SAAS,EAAC,6BAA6B;kBAAAL,QAAA,EAAC;gBAA8B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1E,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN3F,OAAA;cACEmG,IAAI,EAAC,MAAM;cACXK,MAAM,EAAC,SAAS;cAChBC,GAAG,EAAE3E,YAAa;cAClB8D,SAAS,EAAC,QAAQ;cAClBc,QAAQ,EAAE3E;YAAiB;cAAAyD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,EACL/E,UAAU,iBACTZ,OAAA;YAAK4F,SAAS,EAAC,iCAAiC;YAAAL,QAAA,eAC9CvF,OAAA;cAAK2G,GAAG,EAAE/F,UAAW;cAACgG,GAAG,EAAC,SAAS;cAAChB,SAAS,EAAC;YAAgF;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9H,CACN,eACD3F,OAAA;YACE4F,SAAS,EAAC,+RAA+R;YACzSQ,OAAO,EAAE9D,YAAa;YACtBuE,QAAQ,EAAErF,OAAO,IAAI,CAACd,YAAY,IAAI,CAACJ,MAAO;YAAAiF,QAAA,EAE7C/D,OAAO,GAAG,cAAc,gBAAIxB,OAAA,CAAAE,SAAA;cAAAqF,QAAA,gBAAEvF,OAAA,CAACL,MAAM;gBAACiG,SAAS,EAAC;cAAS;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,2BAAuB;YAAA,eAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClF,CAAC,EACRjE,KAAK,iBAAI1B,OAAA;YAAK4F,SAAS,EAAC,2BAA2B;YAAAL,QAAA,EAAE7D;UAAK;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EACjE7E,OAAO,iBACNd,OAAA;YAAK4F,SAAS,EAAC,2EAA2E;YAAAL,QAAA,gBACxFvF,OAAA;cAAI4F,SAAS,EAAC,oBAAoB;cAAAL,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClD3F,OAAA;cAAG4F,SAAS,EAAC,6BAA6B;cAAAL,QAAA,EAAEzE;YAAO;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CACN,EAEAzE,aAAa,CAAC4F,MAAM,GAAG,CAAC,iBACvB9G,OAAA;YAAK4F,SAAS,EAAC,MAAM;YAAAL,QAAA,gBACnBvF,OAAA;cAAI4F,SAAS,EAAC,4BAA4B;cAAAL,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC9D3F,OAAA;cAAK+G,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEC,QAAQ,EAAE,MAAM;gBAAEC,GAAG,EAAE;cAAO,CAAE;cAAA3B,QAAA,EAC5DrE,aAAa,CAAC+C,GAAG,CAACkD,GAAG,iBACpBnH,OAAA;gBAAkBoH,IAAI,EAAED,GAAG,CAACE,IAAK;gBAACnF,MAAM,EAAC,QAAQ;gBAACoF,GAAG,EAAC,qBAAqB;gBAAA/B,QAAA,eACzEvF,OAAA;kBACE2G,GAAG,EAAEQ,GAAG,CAACE,IAAK;kBACdT,GAAG,EAAEO,GAAG,CAACI,KAAM;kBACfR,KAAK,EAAE;oBAAES,KAAK,EAAE,GAAG;oBAAEC,MAAM,EAAE,GAAG;oBAAEC,SAAS,EAAE,OAAO;oBAAEC,YAAY,EAAE,CAAC;oBAAEC,MAAM,EAAE,mBAAmB;oBAAEC,UAAU,EAAE;kBAAU;gBAAE;kBAAArC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7H;cAAC,GALIwB,GAAG,CAACE,IAAI;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAMb,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACJ,CAAC;AAEP,CAAC;AAACtF,EAAA,CAnMIF,QAAQ;AAAA2H,EAAA,GAAR3H,QAAQ;AAqMd,eAAeA,QAAQ;AAAC,IAAA2H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}