{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishn\\\\Downloads\\\\Gallery Application\\\\frontend\\\\src\\\\components\\\\PaymentModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PaymentModal({\n  isOpen,\n  onClose,\n  onSuccess,\n  minAmount = 10\n}) {\n  _s();\n  const [upiPin, setUpiPin] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [timer, setTimer] = useState(120); // 2 minutes\n  const [error, setError] = useState(\"\");\n  const [processing, setProcessing] = useState(false);\n  useEffect(() => {\n    if (!isOpen) return;\n    setTimer(120);\n    setUpiPin(\"\");\n    setAmount(\"\");\n    setError(\"\");\n    setProcessing(false);\n    const interval = setInterval(() => {\n      setTimer(t => {\n        if (t <= 1) {\n          clearInterval(interval);\n          onClose();\n          return 0;\n        }\n        return t - 1;\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen, onClose]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setError(\"\");\n    if (!upiPin || upiPin.length < 4) {\n      setError(\"Enter a valid UPI PIN (at least 4 digits)\");\n      return;\n    }\n    if (!amount || isNaN(amount) || Number(amount) < minAmount) {\n      setError(`Amount must be at least $${minAmount}`);\n      return;\n    }\n    setProcessing(true);\n    setTimeout(() => {\n      setProcessing(false);\n      onSuccess(Number(amount));\n    }, 1800); // Simulate payment processing\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-slate-900 p-8 rounded-xl shadow-2xl w-full max-w-md relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute top-3 right-3 text-slate-400 hover:text-red-400\",\n        onClick: onClose,\n        disabled: processing,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-white mb-4\",\n        children: \"Pay & Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 text-slate-300 text-sm flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Session expires in:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-mono text-lg text-cyan-400\",\n          children: [Math.floor(timer / 60).toString().padStart(2, '0'), \":\", (timer % 60).toString().padStart(2, '0')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-slate-300 mb-1\",\n            children: \"UPI PIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: upiPin,\n            onChange: e => setUpiPin(e.target.value.replace(/\\D/g, \"\")),\n            maxLength: 6,\n            minLength: 4,\n            className: \"w-full px-3 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-400\",\n            placeholder: \"Enter your UPI PIN\",\n            disabled: processing,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-slate-300 mb-1\",\n            children: \"Amount (USD)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: amount,\n            onChange: e => setAmount(e.target.value.replace(/[^\\d.]/g, \"\")),\n            min: minAmount,\n            className: \"w-full px-3 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-400\",\n            placeholder: `Enter amount (min $${minAmount})`,\n            disabled: processing,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-400 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full py-2 rounded bg-cyan-600 hover:bg-cyan-700 text-white font-semibold text-lg transition-all disabled:opacity-60\",\n          disabled: processing,\n          children: processing ? \"Processing...\" : \"Pay & Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(PaymentModal, \"3KaasL2CR8CZxDfoB/pxmMOuD/Q=\");\n_c = PaymentModal;\nexport default PaymentModal;\nvar _c;\n$RefreshReg$(_c, \"PaymentModal\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","PaymentModal","isOpen","onClose","onSuccess","minAmount","_s","upiPin","setUpiPin","amount","setAmount","timer","setTimer","error","setError","processing","setProcessing","interval","setInterval","t","clearInterval","handleSubmit","e","preventDefault","length","isNaN","Number","setTimeout","className","children","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","Math","floor","toString","padStart","onSubmit","type","value","onChange","target","replace","maxLength","minLength","placeholder","required","min","_c","$RefreshReg$"],"sources":["C:/Users/vishn/Downloads/Gallery Application/frontend/src/components/PaymentModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction PaymentModal({ isOpen, onClose, onSuccess, minAmount = 10 }) {\n  const [upiPin, setUpiPin] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [timer, setTimer] = useState(120); // 2 minutes\n  const [error, setError] = useState(\"\");\n  const [processing, setProcessing] = useState(false);\n\n  useEffect(() => {\n    if (!isOpen) return;\n    setTimer(120);\n    setUpiPin(\"\");\n    setAmount(\"\");\n    setError(\"\");\n    setProcessing(false);\n    const interval = setInterval(() => {\n      setTimer((t) => {\n        if (t <= 1) {\n          clearInterval(interval);\n          onClose();\n          return 0;\n        }\n        return t - 1;\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isOpen, onClose]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setError(\"\");\n    if (!upiPin || upiPin.length < 4) {\n      setError(\"Enter a valid UPI PIN (at least 4 digits)\");\n      return;\n    }\n    if (!amount || isNaN(amount) || Number(amount) < minAmount) {\n      setError(`Amount must be at least $${minAmount}`);\n      return;\n    }\n    setProcessing(true);\n    setTimeout(() => {\n      setProcessing(false);\n      onSuccess(Number(amount));\n    }, 1800); // Simulate payment processing\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60\">\n      <div className=\"bg-slate-900 p-8 rounded-xl shadow-2xl w-full max-w-md relative\">\n        <button\n          className=\"absolute top-3 right-3 text-slate-400 hover:text-red-400\"\n          onClick={onClose}\n          disabled={processing}\n        >\n          &times;\n        </button>\n        <h2 className=\"text-xl font-bold text-white mb-4\">Pay & Download</h2>\n        <div className=\"mb-4 text-slate-300 text-sm flex justify-between items-center\">\n          <span>Session expires in:</span>\n          <span className=\"font-mono text-lg text-cyan-400\">{Math.floor(timer/60).toString().padStart(2,'0')}:{(timer%60).toString().padStart(2,'0')}</span>\n        </div>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-slate-300 mb-1\">UPI PIN</label>\n            <input\n              type=\"password\"\n              value={upiPin}\n              onChange={e => setUpiPin(e.target.value.replace(/\\D/g, \"\"))}\n              maxLength={6}\n              minLength={4}\n              className=\"w-full px-3 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-400\"\n              placeholder=\"Enter your UPI PIN\"\n              disabled={processing}\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-slate-300 mb-1\">Amount (USD)</label>\n            <input\n              type=\"number\"\n              value={amount}\n              onChange={e => setAmount(e.target.value.replace(/[^\\d.]/g, \"\"))}\n              min={minAmount}\n              className=\"w-full px-3 py-2 rounded bg-slate-800 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-400\"\n              placeholder={`Enter amount (min $${minAmount})`}\n              disabled={processing}\n              required\n            />\n          </div>\n          {error && <div className=\"text-red-400 text-sm\">{error}</div>}\n          <button\n            type=\"submit\"\n            className=\"w-full py-2 rounded bg-cyan-600 hover:bg-cyan-700 text-white font-semibold text-lg transition-all disabled:opacity-60\"\n            disabled={processing}\n          >\n            {processing ? \"Processing...\" : \"Pay & Download\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}