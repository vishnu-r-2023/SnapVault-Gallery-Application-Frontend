{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishn\\\\Downloads\\\\Gallery Application\\\\frontend\\\\src\\\\components\\\\AISearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Search, Upload } from 'lucide-react';\nimport Header from './Header';\n\n// AISearch component: analyzes an image using Gemini API (Google AI) and finds similar images\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AISearch = ({\n  gallery\n}) => {\n  _s();\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [summary, setSummary] = useState('');\n  const [searchQuery, setSearchQuery] = useState(''); // For CSE\n  const cseInitialized = useRef(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = React.useRef(null);\n\n  // Handle file input\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      setSummary('');\n      setError('');\n    }\n  };\n\n  // Analyze image using Gemini API (Google AI)\n  const analyzeImage = async () => {\n    if (!selectedFile || !apiKey) {\n      setError('Please select an image and provide a valid Gemini API key.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSummary('');\n    try {\n      // Convert image to base64\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        var _response$data, _response$data$candid, _response$data$candid2, _response$data$candid3, _response$data$candid4, _response$data$candid5, _summaryText$match;\n        const base64Image = reader.result.split(',')[1];\n        // Call Gemini multimodal API (Google AI)\n        // Endpoint: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent\n        // Docs: https://ai.google.dev/api/rest/v1beta/models/generateContent\n        const response = await axios.post('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey, {\n          contents: [{\n            parts: [{\n              text: 'Describe this image and suggest keywords for finding similar images.'\n            }, {\n              inlineData: {\n                mimeType: 'image/jpeg',\n                data: base64Image\n              }\n            }]\n          }]\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        // Parse Gemini response\n        const summaryText = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$candid = _response$data.candidates) === null || _response$data$candid === void 0 ? void 0 : (_response$data$candid2 = _response$data$candid[0]) === null || _response$data$candid2 === void 0 ? void 0 : (_response$data$candid3 = _response$data$candid2.content) === null || _response$data$candid3 === void 0 ? void 0 : (_response$data$candid4 = _response$data$candid3.parts) === null || _response$data$candid4 === void 0 ? void 0 : (_response$data$candid5 = _response$data$candid4[0]) === null || _response$data$candid5 === void 0 ? void 0 : _response$data$candid5.text) || 'No summary found.';\n        setSummary(summaryText);\n        // Extract keywords from the summary (simple split by comma/space)\n        const keywords = ((_summaryText$match = summaryText.match(/\\b\\w+\\b/g)) === null || _summaryText$match === void 0 ? void 0 : _summaryText$match.slice(0, 5)) || [];\n        // Set query for CSE widget\n        setSearchQuery(keywords.join(' '));\n      };\n      reader.readAsDataURL(selectedFile);\n    } catch (err) {\n      setError('Failed to analyze image with Gemini.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (searchQuery && window.google && window.google.search && window.google.search.cse && window.google.search.cse.element) {\n      // Remove any previous widgets\n      const widget = document.getElementById('gcse-search');\n      if (widget) widget.innerHTML = '';\n      // Render new widget\n      window.google.search.cse.element.render({\n        div: 'gcse-search',\n        tag: 'search',\n        attributes: {\n          'data-query': `${searchQuery} &tbm=isch`\n        }\n      });\n      cseInitialized.current = true;\n      window.google.search.cse.element.getElement('searchbox').execute(searchQuery);\n    }\n  }, [searchQuery]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen text-white pt-4 px-8 relative overflow-hidden group/bg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto relative mt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-800/50 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-slate-700/30\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          badgeText: \"AI Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-4 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 86\n          }, this), \" AI Image Search\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 mb-4 ${isDragging ? 'border-blue-400 bg-blue-500/20' : 'border-slate-700/30 bg-slate-800/20'}`,\n          onDragOver: e => {\n            e.preventDefault();\n            setIsDragging(true);\n          },\n          onDragLeave: () => setIsDragging(false),\n          onDrop: e => {\n            e.preventDefault();\n            setIsDragging(false);\n            handleFileChange({\n              target: {\n                files: e.dataTransfer.files\n              }\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 rounded-full bg-slate-800/10\",\n              children: /*#__PURE__*/_jsxDEV(Upload, {\n                className: \"w-8 h-8 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-white font-medium\",\n                children: \"Drag and drop your image here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-white/70\",\n                children: \"or\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                className: \"text-sm text-white hover:text-blue-200 font-medium tracking-wide px-4 py-2 rounded-full bg-slate-800/10 hover:bg-blue-700/20 transition-colors duration-200\",\n                children: \"Browse Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-400 mt-2\",\n                children: \"Supported: JPG, PNG, GIF, WEBP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            ref: fileInputRef,\n            className: \"hidden\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), previewUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: previewUrl,\n            alt: \"Preview\",\n            className: \"w-48 h-48 object-contain rounded-lg border border-slate-700/30 bg-slate-900/20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"group inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600/80 hover:bg-cyan-700 text-white font-semibold text-base shadow-lg border border-cyan-400/30 hover:border-cyan-400 backdrop-blur-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 mb-4\",\n          onClick: analyzeImage,\n          disabled: loading || !selectedFile || !apiKey,\n          children: loading ? 'Analyzing...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 44\n            }, this), \" Analyze & Find Similar\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-400 text-sm mb-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), summary && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-slate-900/70 text-white rounded-lg p-4 mb-4 border border-slate-700/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"AI Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-line text-sm\",\n            children: summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gcse-search\",\n            id: \"gcse-search\",\n            \"data-query\": `${searchQuery} &tbm=isch`\n          }, searchQuery, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n_s(AISearch, \"c6Z2mu8juj8XRWDO1U6JLVSKTu4=\");\n_c = AISearch;\nexport default AISearch;\nvar _c;\n$RefreshReg$(_c, \"AISearch\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Search","Upload","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","AISearch","gallery","_s","apiKey","process","env","REACT_APP_API_KEY","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","summary","setSummary","searchQuery","setSearchQuery","cseInitialized","loading","setLoading","error","setError","isDragging","setIsDragging","fileInputRef","handleFileChange","e","file","target","files","URL","createObjectURL","analyzeImage","reader","FileReader","onloadend","_response$data","_response$data$candid","_response$data$candid2","_response$data$candid3","_response$data$candid4","_response$data$candid5","_summaryText$match","base64Image","result","split","response","post","contents","parts","text","inlineData","mimeType","data","headers","summaryText","candidates","content","keywords","match","slice","join","readAsDataURL","err","window","google","search","cse","element","widget","document","getElementById","innerHTML","render","div","tag","attributes","current","getElement","execute","className","children","badgeText","fileName","_jsxFileName","lineNumber","columnNumber","onDragOver","preventDefault","onDragLeave","onDrop","dataTransfer","type","onClick","_fileInputRef$current","click","accept","ref","onChange","src","alt","disabled","id","_c","$RefreshReg$"],"sources":["C:/Users/vishn/Downloads/Gallery Application/frontend/src/components/AISearch.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Search, Upload } from 'lucide-react';\nimport Header from './Header';\n\n// AISearch component: analyzes an image using Gemini API (Google AI) and finds similar images\nconst AISearch = ({ gallery }) => {\n  const apiKey = process.env.REACT_APP_API_KEY;\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [summary, setSummary] = useState('');\n  const [searchQuery, setSearchQuery] = useState(''); // For CSE\n  const cseInitialized = useRef(false);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const fileInputRef = React.useRef(null);\n\n  // Handle file input\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      setSummary('');\n      setError('');\n    }\n  };\n\n  // Analyze image using Gemini API (Google AI)\n  const analyzeImage = async () => {\n    if (!selectedFile || !apiKey) {\n      setError('Please select an image and provide a valid Gemini API key.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSummary('');\n\n    try {\n      // Convert image to base64\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        const base64Image = reader.result.split(',')[1];\n        // Call Gemini multimodal API (Google AI)\n        // Endpoint: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro-vision:generateContent\n        // Docs: https://ai.google.dev/api/rest/v1beta/models/generateContent\n        const response = await axios.post(\n          'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=' + apiKey,\n          {\n            contents: [\n              {\n                parts: [\n                  { text: 'Describe this image and suggest keywords for finding similar images.' },\n                  { inlineData: { mimeType: 'image/jpeg', data: base64Image } }\n                ]\n              }\n            ]\n          },\n          {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n        // Parse Gemini response\n        const summaryText = response.data?.candidates?.[0]?.content?.parts?.[0]?.text || 'No summary found.';\n        setSummary(summaryText);\n        // Extract keywords from the summary (simple split by comma/space)\n        const keywords = summaryText.match(/\\b\\w+\\b/g)?.slice(0, 5) || [];\n        // Set query for CSE widget\n        setSearchQuery(keywords.join(' '));\n      };\n      reader.readAsDataURL(selectedFile);\n    } catch (err) {\n      setError('Failed to analyze image with Gemini.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (searchQuery && window.google && window.google.search && window.google.search.cse && window.google.search.cse.element) {\n      // Remove any previous widgets\n      const widget = document.getElementById('gcse-search');\n      if (widget) widget.innerHTML = '';\n      // Render new widget\n      window.google.search.cse.element.render({\n        div: 'gcse-search',\n        tag: 'search',\n        attributes: {\n          'data-query': `${searchQuery} &tbm=isch`\n        }\n      });\n      cseInitialized.current = true;\n      window.google.search.cse.element.getElement('searchbox').execute(searchQuery);\n    }\n  }, [searchQuery]);\n\n  return (\n    <div className=\"min-h-screen text-white pt-4 px-8 relative overflow-hidden group/bg\">\n      <div className=\"max-w-6xl mx-auto relative mt-16\">\n        <div className=\"bg-slate-800/50 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-slate-700/30\">\n          <Header badgeText=\"AI Search\" />\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\"><Search className=\"w-6 h-6\" /> AI Image Search</h2>\n          <div\n            className={`border-2 border-dashed rounded-lg p-8 text-center transition-all duration-200 mb-4 ${isDragging ? 'border-blue-400 bg-blue-500/20' : 'border-slate-700/30 bg-slate-800/20'}`}\n            onDragOver={e => { e.preventDefault(); setIsDragging(true); }}\n            onDragLeave={() => setIsDragging(false)}\n            onDrop={e => { e.preventDefault(); setIsDragging(false); handleFileChange({ target: { files: e.dataTransfer.files } }); }}\n          >\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"p-4 rounded-full bg-slate-800/10\">\n                <Upload className=\"w-8 h-8 text-white\" />\n              </div>\n              <div className=\"space-y-2\">\n                <p className=\"text-lg text-white font-medium\">Drag and drop your image here</p>\n                <p className=\"text-sm text-white/70\">or</p>\n                <button\n                  type=\"button\"\n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"text-sm text-white hover:text-blue-200 font-medium tracking-wide px-4 py-2 rounded-full bg-slate-800/10 hover:bg-blue-700/20 transition-colors duration-200\"\n                >\n                  Browse Files\n                </button>\n                <p className=\"text-xs text-slate-400 mt-2\">Supported: JPG, PNG, GIF, WEBP</p>\n              </div>\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              ref={fileInputRef}\n              className=\"hidden\"\n              onChange={handleFileChange}\n            />\n          </div>\n          {previewUrl && (\n            <div className=\"flex flex-col items-center mb-4\">\n              <img src={previewUrl} alt=\"Preview\" className=\"w-48 h-48 object-contain rounded-lg border border-slate-700/30 bg-slate-900/20\" />\n            </div>\n          )}\n          <button\n            className=\"group inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-cyan-600/80 hover:bg-cyan-700 text-white font-semibold text-base shadow-lg border border-cyan-400/30 hover:border-cyan-400 backdrop-blur-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-cyan-400 mb-4\"\n            onClick={analyzeImage}\n            disabled={loading || !selectedFile || !apiKey}\n          >\n            {loading ? 'Analyzing...' : (<><Search className=\"w-5 h-5\" /> Analyze & Find Similar</>)}\n          </button>\n          {error && <div className=\"text-red-400 text-sm mb-2\">{error}</div>}\n          {summary && (\n            <div className=\"bg-slate-900/70 text-white rounded-lg p-4 mb-4 border border-slate-700/30\">\n              <h3 className=\"font-semibold mb-2\">AI Summary</h3>\n              <p className=\"whitespace-pre-line text-sm\">{summary}</p>\n            </div>\n          )}\n          {/* Google CSE Search Box for Similar Images */}\n          {searchQuery && (\n            <div className=\"my-4\">\n              {/* The key ensures React fully re-mounts the widget when query changes */}\n              <div\n                className=\"gcse-search\"\n                id=\"gcse-search\"\n                key={searchQuery}\n                data-query={`${searchQuery} &tbm=isch`}\n              ></div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AISearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}